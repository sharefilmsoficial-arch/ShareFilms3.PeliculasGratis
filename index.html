<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Share Films 3</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header class="topbar">
  <div class="menu-toggle" id="menuToggle">
    <span></span>
    <span></span>
    <span></span>
  </div>
  
  <div class="logo">
  <img src="logo.jpeg" alt="ShareSeries">
</div>
  <input id="search" placeholder="Buscar películas..." />
</header>

<nav class="side-menu" id="sideMenu">
  <ul>
    <li><a href="index.html">Inicio</a></li>
    <li><a href="series.html">Series</a></li>
    <li><a href="#">Comedia</a></li>
    <li><a href="#">Terror</a></li>
    <li><a href="#">Acción</a></li>
    <li><a href="#">Más Recientes</a></li>
    <li><a href="jokefilms.html">Joke</a></li>
    <li></li><a href="https://apeiros173.github.io/ShareFilms-Peliculas-Gratis/">Share Films 1 - Prototipo</a></li>
    <li><a href="https://sharefilmsoficial-arch.github.io/PrimeFilms/" target="_blank">Share Films 2 - PrimeFilms </a></li>
    <li><a href="https://sharefilmsoficial-arch.github.io/Vortex_by_ShareFilms/" target="_blank">Vortex by ShareFilms</a></li>
    <li><a href="https://sharefilmsoficial-arch.github.io/SabineClear.com/" target="_blank">SabineClear by ShareFilms</a></li>
  </ul>
</nav>

<main>
  <section class="gallery" id="gallery"></section>
  <section class="gallery" id="recentSection" style="display:none;"></section>
</main>

<script src="movies.js"></script>

<script>
// Generar user ID
if (!localStorage.getItem("sf_user_id")) {
  localStorage.setItem("sf_user_id", 'u_' + Math.random().toString(36).slice(2));
}
const userId = localStorage.getItem("sf_user_id");
</script>

<script>
// --- Galería ---
const gallery = document.getElementById('gallery');

function createCard(movie){
  const a = document.createElement('a');
  a.className = 'card-link';
  a.href = `movie.html?id=${movie.id}`;

  const card = document.createElement('div');
  card.className = 'card';
  card.style.backgroundImage = `url(${movie.image})`;

  const info = document.createElement('div');
  info.className = 'card-info';
  info.innerHTML = `<h3>${movie.title}</h3><p>${movie.year || ''} • ${movie.duration || ''}</p>`;

  card.appendChild(info);
  a.appendChild(card);
  return a;
}

MOVIES.forEach(m => gallery.appendChild(createCard(m)));

document.getElementById('search').addEventListener('input', e => {
  const q = e.target.value.toLowerCase();
  gallery.innerHTML = '';
  MOVIES.filter(m => m.title.toLowerCase().includes(q))
        .forEach(m => gallery.appendChild(createCard(m)));
});
</script>

<script>
// --- Menú hamburguesa ---
const menuToggle = document.getElementById('menuToggle');
const sideMenu = document.getElementById('sideMenu');

// Abrir/cerrar menú
menuToggle.addEventListener('click', () => {
  menuToggle.classList.toggle('active');
  sideMenu.classList.toggle('active');
});

// Cerrar menú al hacer clic en un enlace
document.querySelectorAll('#sideMenu a').forEach(link => {
  link.addEventListener('click', () => {
    sideMenu.classList.remove('active');
    menuToggle.classList.remove('active');
  });
});

// Cerrar menú al hacer clic fuera
document.addEventListener('click', (e) => {
  const isClickInsideMenu = sideMenu.contains(e.target);
  const isClickToggle = menuToggle.contains(e.target);

  if (sideMenu.classList.contains('active') &&
      !isClickInsideMenu &&
      !isClickToggle) {
    sideMenu.classList.remove('active');
    menuToggle.classList.remove('active');
  }
});
</script>

</body>
</html>
